<?xml version="1.0" encoding="UTF-8"?>
<component type="desktop">
  <id>com.binarynonsense.acbr</id>
  <name>ACBR</name>
  <summary>Comic book reader and converter</summary>
  <metadata_license>MIT</metadata_license>
  <project_license>BSD-2-Clause</project_license>
  <url type="homepage">https://www.binarynonsense.com/software/</url>
  <url type="vcs-browser">https://github.com/binarynonsense/comic-book-reader</url>
  <url type="bugtracker">https://github.com/binarynonsense/comic-book-reader/issues</url>
  <launchable type="desktop-id">com.binarynonsense.acbr.desktop</launchable>
  <icon type="stock">com.binarynonsense.acbr</icon>
  <branding>
    <color type="primary" scheme_preference="light">#877e9c</color>
    <color type="primary" scheme_preference="dark">#7c6f9a</color>
  </branding>
  <categories>
    <category>Graphics</category>
  </categories>
  <developer id="com.binarynonsense">
    <name>Álvaro García</name>
  </developer>
  <content_rating type="oars-1.1"/>
  <description>
    <p>ACBR is a free and open source comic book reader and converter.</p>
    <p>Main Features:</p>
    <ul>
        <li>Compatible file formats: CBZ, CBR, CB7, PDF, EPUB, JPG, PNG, WebP and AVIF</li>
        <li>Single and double page modes, page rotation, integrated audio player, metadata editor, RSS reader, partial gamepad support...</li>
        <li>UI available in: English, Spanish, Russian, German, Arabic and Filipino</li>
    </ul>
    <p>Included Tools:</p>
    <ul>
      <li>Convert, resize or extract comic book files</li>
      <li>Convert and resize image files</li>
      <li>Extract color palettes from images</li>
      <li>Create comic book page and thumbnails templates</li>
      <li>Search for and open public domain online books and audiobooks</li>
      <li>Search for and open RSS feeds from podcasts and websites</li>
      <li>Search for and open radio station streams</li>
      <li>...</li>
    </ul>   
  </description>
  <screenshots>
    <screenshot type="default">
      <image>https://raw.githubusercontent.com/binarynonsense/acbr-flathub/01d933987bcb1356c3d4db2cb2b8101b8c50bf34/screenshots_01.png</image>
      <caption>Reading a comic book in single page mode</caption>
    </screenshot>
    <screenshot>
      <image>https://raw.githubusercontent.com/binarynonsense/acbr-flathub/01d933987bcb1356c3d4db2cb2b8101b8c50bf34/screenshots_02.png</image>
      <caption>Reading a comic book in double page mode</caption>
    </screenshot>
    <screenshot>
      <image>https://raw.githubusercontent.com/binarynonsense/acbr-flathub/01d933987bcb1356c3d4db2cb2b8101b8c50bf34/screenshots_03.png</image>
      <caption>Using the comic books converter tool</caption>
    </screenshot>
    <screenshot>
      <image>https://raw.githubusercontent.com/binarynonsense/acbr-flathub/01d933987bcb1356c3d4db2cb2b8101b8c50bf34/screenshots_04.png</image>
      <caption>Reading an RSS feed while listening to a podcast</caption>
    </screenshot>
    <screenshot>
      <image>https://raw.githubusercontent.com/binarynonsense/acbr-flathub/01d933987bcb1356c3d4db2cb2b8101b8c50bf34/screenshots_05.png</image>
      <caption>Using the home screen</caption>
    </screenshot>
  </screenshots>
  <releases>
    <release version="3.16.0" date="2026-02-08">
      <description>
        <ul>
          <li>
            Added an alternative PDF library, based on PDFium, that can be used instead of the default one, based on PDFjs, both in the Reader and the conversion tools. It can be set as the one to be used for the Reader in the program's preferences (File Formats section), and in the advanced settings of each tool for them. Hopefully, this may be of help as an alternative if a PDF file happens to have stability or compatibility issues with the default library. One current limitation is that some big files that the default one is able to load will fail to do with this new one.
          </li>
          <li>
            Added a new section in the Preferences, Comic Book Reader, and moved some of the settings there.
          </li>
          <li>
            Added a new setting in the Preferences, in the PDF subsection of the File Formats section, to select the dpi at which the pages of a PDF file are rendered in the Reader.
          </li>
          <li>
            Added a new subsection in the Preferences, Advanced - External Files, to allow loading external files to add more localizations. I've also made a repository to share some unofficial ones I made using machine translation. One of my requirements to include a localization as part of ACBR is that it must be human made, for quality reasons, but I thought this would be useful for users that want to generate their own using that type of tools or test a human made one they are working on.
          </li>
          <li>
            Added a System Monitor 'widget' that shows the system total CPU and Memory use. To show or hide it use the menu entry View - System Monitor. To get more accurate stats in the Flatpak version some extra permissions are required (see the wiki for more info).
          </li>
          <li>
            Added an advanced option in the conversion tools to extract PDF pages based on a target height instead of dpi.
          </li>
          <li>
            Improved the memory management and simplicity in the code that uses the PDFjs library.
          </li>
          <li>
            Implemented the image processing (scale, change image format...) speed improvements from the previous version in the "Extract Comic Books" tool.
          </li>
          <li>
            Added a new advanced option in the preferences to enable saving the debug events log to file (useful for bug reports).
          </li>
          <li>
            Made the program resilient against malformed environment variables containing null bytes.
          </li>
          <li>
            Fixed dpi calculations when rendering PDF pages with the default library. Resulting files are often bigger now for the same dpi setting, but that's because the previous calculations resulted in real dpis lower than the requested one.
          </li>          
        </ul>
      </description>
    </release>
   <release version="3.15.0" date="2026-01-19">
      <description>
        <ul>
          <li>
            Increased, significantly, the speed of conversions that require image processing (scale, change image format...) in the "Convert Comic Books" tool by piping all the image processing operations for a page together, instead of doing them in stages as before, and also using worker threads to work on multiple pages at once. There are now advanced options to fine tune some parameters of this new method, which is now the default, in the tool's settings section (or to select the old method, which has the new operation piping but doesn't use worker threads, just in case it works better in some cases).
          </li>
          <li>
            Added the total time the conversion took to the end of the log in the "Convert Comic Books" tool.
          </li>
          <li>
            Added advanced image operations to crop and add borders in the "Convert Comic Books" tool.
          </li>
          <li>
            Added an advanced input option, "Input Folders Contain", in the "Convert Comic Books" tool to select how to treat the contents of folders in the input list: either look for comic book files inside them (as up to now) or for images (that will be treated as the contents of a single comic book). With this second option, it's now possible to batch convert folders containing images into comic book files.
          </li>
          <li>
            Added an advanced output option, "Keep Subfolders Structure", in the "Convert Comic Books" tool to choose to keep the subfolder structure from folders in the input list when the advanced input option "Search Input Folders Recursively" is enabled and an output folder for all files has been selected in the output options. This will replicate the folder and subfolder structure from the folders in the input list in the selected output folder and place the converted files in the corresponding place.
          </li>
          <li>
            Increased the default history capacity to 50 and made the "History" tool show the current number of entries vs the current capacity in the "Recent" section title.
          </li>
          <li>
            Added small tags to the file icons in the "Home Screen" for known extensions and other small quality of life improvements.
          </li>
          <li>
            Added a new section in the history file to remember files in the "Home Screen" lists but not in recent.
          </li>
          <li>
            Fixed toast notification's close button's color in light color mode.
          </li>
          <li>
            Fixed "Home Screen" breaking for rtl languages.
          </li>
          <li>
            Fixed book in user list in "Home Screen" not opening if it wasn't in the recent history.
          </li>
          <li>
            Fixed the final log being truncated in some of the tools if errors occurred.
          </li>
        </ul>
      </description>
    </release>
    <release version="3.14.1" date="2026-01-10">
      <description>
        <ul>
          <li>
            Fixed default page mode setting in preferences not being correctly saved when the "Double Page (Center First Page)" option was chosen.
          </li>
        </ul>
      </description>
    </release>
    <release version="3.14.0" date="2026-01-02">
      <description>
        <ul>
          <li>
          Added the option to create more lists in the Home Screen besides the Favorites and Latest ones.
          </li>
          <li>
            Added a representation of a book's completion percentage in the Home Screen lists. It shows as a thin line at the bottom of a book's card which gets longer the closer the last page read was compared to the total number of pages (if the page was the last one, the line will have a 100% length). It'll only appear for books in the history that have also been opened after this feature was added, as it needs some data not stored in the history by previous versions.
          </li>
          <li>
            Added expand and collapse buttons to the lists in the Home Screen.
          </li>
          <li>
            Added a button to open the integrated file browser in the Home Screen.
          </li>
          <li>
            Added a "Home Screen" section to the preferences.
          </li>
          <li>
            Improved PDF page rendering time and image quality.
          </li>
          <li>
            Changed some buttons in the reader's toolbar (zoom, pages direction and page mode) so that they now show the icon corresponding to the current state for the corresponding setting and clicking them opens a vertical submenu where the user can choose from all the available options.
          </li>
          <li>
            Fixed not showing any space between the text and the icon in the list titles in the Home Screen for rtl languages.
          </li>
        </ul>
      </description>
    </release>
    <release version="3.13.0" date="2025-12-21">
      <description>
        <ul>
          <li>
            Added some small quality of life improvements to the Home Screen, like drag and drop to sort the favorites list, new options to open the containing folder of a file in one the lists or add one in the recent files list to the favorites one...
          </li>
          <li>
            Added two new theme preferences: one that automatically sets the theme to "ACBR Light" or "ACBR Dark" based on the operative system settings and the other based on the time of day (the time at which the light and dark themes are set can be customized).
          </li>
          <li>
            Added 'Open Containing Folder' entry to the reader's context menu.
          </li>
          <li>
            Fixed CBZ files containing __MACOSX folders failing to load in the reader and convert in the tools as they included invalid image files. __MACOSX folders are now ignored.
          </li>
          <li>
            Fixed invalid page images breaking the reader. When the image corresponding to a page can't be loaded it's now replaced by a generic "file not found" page.
          </li>
        </ul>
      </description>
    </release>
    <release version="3.12.5" date="2025-08-31">
      <description>
        <ul>
          <li>
            Fixed RSS reader getting stuck when trying to load a no longer valid favorite feed URL.
          </li>
          <li>
            Fixed audio player showing above some of the modal windows.
          </li>
          <li>
            Fixed some of the modal windows hiding the toolbar while they were open.
          </li>
        </ul>
      </description>
    </release>
    <release version="3.12.4" date="2025-08-26">
      <description>
        <ul>
          <li>
            Fixed convert comic books, extract comic books, convert images and create comic book tools progressively slowing down while processing a large batch of files, which was due to the log text's increasingly bigger length impacting the time it took to update it.
          </li>
          <li>
            Fixed PDF metadata editor getting stuck trying to load data from files with undefined creation and/or modification dates.
          </li>
        </ul>
      </description>
    </release>
    <release version="3.12.3" date="2025-08-20">
      <description>
        <ul>
          <li>
            Added a button to open the output folder in the convert comic books, extract comic books, convert images and create comic book tools.
          </li>
          <li>
            Fixed PDF metadata editor showing 'undefined' as the value for some entries if they were empty.
          </li>
          <li>
            Fixed audio player always leaving space for the toolbar when placed at the bottom even in the tools and home screen.
          </li>
        </ul>
      </description>
    </release>
    <release version="3.12.2" date="2025-08-16">
      <description>
        <ul>
          <li>
            Fixed failing to open files from the search results of the gutenberg tool in the flatpak version due to lack of write permissions. The cache to store downloaded files is now created in the same folder as the config files.
          </li>
          <li>
            Fixed not being able to use the space bar and the arrow keys to edit the names of the home screen favorites.
          </li>
          <li>
            Fixed log showing a generic error message when there's not enough free disk space in the temp folder to extract files during conversions (can happen with the default temp folder and moderately big files in the flatpak version, for example).
          </li>
        </ul>
      </description>
    </release>
    <release version="3.12.1" date="2025-08-08">
      <description>
        <ul>
          <li>
            Created first flatpak build for Flathub.
          </li>
        </ul>
      </description>
    </release>
  </releases>
</component>
